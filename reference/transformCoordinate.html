<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Translate Voxel Coordinates — translateCoordinate • oro.nifti</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Translate Voxel Coordinates — translateCoordinate" />
<meta property="og:description" content="Translates a voxel index into the continuous coordinate space
defined by the NIfTI qform and sform information." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oro.nifti</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.10.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/nifti2.html">Working with the NIfTI Data Standard in \proglang{R}</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/bjw34032/oro.nifti/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Translate Voxel Coordinates</h1>
    <small class="dont-index">Source: <a href='https://github.com/bjw34032/oro.nifti/blob/master/R/transform.R'><code>R/transform.R</code></a></small>
    <div class="hidden name"><code>transformCoordinate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Translates a voxel index into the continuous coordinate space
defined by the NIfTI qform and sform information.</p>
    </div>

    <div class="ref-usage sourceCode"><pre class='sourceCode r'><code><span class='fu'>translateCoordinate</span><span class='op'>(</span><span class='va'>i</span>, <span class='va'>nim</span>, verbose <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></code></pre></div>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>i</th>
      <td><p>An index vector in <code>nim</code>.</p></td>
    </tr>
    <tr>
      <th>nim</th>
      <td><p>An object of class <code>nifti</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Provide detailed output to the user.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>nifti</code>-class object with translated coordinates.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function takes as input a <code>nifti</code> object and an index
vector in the voxel space of the object and translates that voxel index
into the continuous coordinate space defined by the object's qform and
sform.</p>
<p>Please note:</p><ol>
<li><p>By default the index <code>i</code> varies most rapidly, etc.</p></li>
<li><p>The ANALYZE 7.5 coordinate system is</p><table class='table'>
<tr><td>+x</td><td>=</td><td>Left</td></tr>
<tr><td>+y</td><td>=</td><td>Anterior</td></tr>
<tr><td>+z</td><td>=</td><td>Superior</td></tr>
</table>
<p>(A 
left-handed co-ordinate system).</p></li>
<li><p>The three methods below give the locations of the voxel centres in 
the x,y,z system.  In many cases programs will want to display the data 
on other grids.  In which case the program will be required to convert 
the desired (x,y,z) values in to voxel values using the inverse 
transformation.</p></li>
<li><p>Method 2 uses a factor <code>qfac</code> which is either -1 or 1.  
<code>qfac</code> is stored in <code>pixdim[0]</code>.  If <code>pixdim[0]</code> != 1 or 
-1, which should not occur, we assume 1.</p></li>
<li><p>The units of the <code>xyzt</code> are set in <code>xyzt_units</code> field.</p></li>
</ol>

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Andrew Thornton <a href='mailto:zeripath@users.sourceforge.net'>zeripath@users.sourceforge.net</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <div class="ref-examples sourceCode"><pre class='sourceCode r'><code><span class='r-in'></span>
<span class='r-in'><span class='va'>ffd</span> <span class='op'>&lt;-</span> <span class='fu'><a href='read_nifti.html'>readNIfTI</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"nifti"</span>, package<span class='op'>=</span><span class='st'>"oro.nifti"</span><span class='op'>)</span>,</span>
<span class='r-in'>                           <span class='st'>"filtered_func_data"</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>xyz</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>1</span>,<span class='fl'>1</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'>translateCoordinate</span><span class='op'>(</span><span class='va'>xyz</span>, <span class='va'>ffd</span>, verbose<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Input voxel coordinate:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>      [,1]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1,]    1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [2,]    1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [3,]    1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> QForm_code and SForm_code unset: Orientation by Method 1.</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>      [,1]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1,]    0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [2,]    0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [3,]    0</span>
<span class='r-in'><span class='va'>xyz</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>trunc</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>ffd</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span><span class='op'>/</span><span class='fl'>2</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'>translateCoordinate</span><span class='op'>(</span><span class='va'>xyz</span>, <span class='va'>ffd</span>, verbose<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Input voxel coordinate:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>      [,1]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1,]   32</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [2,]   32</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [3,]   10</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> QForm_code and SForm_code unset: Orientation by Method 1.</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>      [,1]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1,]   31</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [2,]   31</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [3,]    9</span>
</code></pre></div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Brandon Whitcher, Volker Schmid, Andrew Thornton, John Muschelli.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


